<template>
	<div class="container">
		<div class="chartc">
			<div class="tool">
				<div class="charttitle">商标注册趋势图</div>
				<div>
					<select v-model="hangye1">
						<option v-for="item in hangyes" :key="item.id" :value="item.id">{{item.title}}</option>
					</select>
				</div>
				<div class="charttool">
					<div :class="{tabactive:active1==='month'}" @click="changeTime1('month')">按月</div>
					<div :class="{tabactive:active1==='year'}" @click="changeTime1('year')">按年</div>

				</div>

			</div>
			<div class="chart" id="qushi"></div>
		</div>
		<div class="chartc">
			<div class="tool2">
				<div class="charttitle">商标地域分布图</div>
				<div class="charttime">
					<select v-model="year2">
						<option v-for="item in years" :key="item.id" :value="item.id">{{item.title}}</option>
					</select>
				</div>

			</div>
			<div class="chart" id="diyu"></div>
		</div>
		<div class="chartc" style="height:24rem;">
			<div class="tool2">
				<div class="charttitle">商标行业分布图</div>
				<div class="charttime">
					<select v-model="year3">
						<option v-for="item in years" :key="item.id" :value="item.id">{{item.title}}</option>
					</select>
				</div>

			</div>
			<div class="chart" style="height:20rem;" id="hangye"></div>
		</div>
		<div class="chartc">
			<div class="tool2">
				<div class="charttitle">无主商标占比</div>
				<div class="charttime">
					<select v-model="region3">
						<option v-for="item in regions" :key="item.id" :value="item.id">{{item.title}}</option>
					</select>
				</div>

			</div>
			<div class="chart" id="wuzhu"></div>
		</div>
	</div>
</template>
<script>
var echarts = require('echarts');
var chartcolors = ['#cc0033','#ff6600','#ffff33', '#339933', '#0099cc',  '#ff6666','#990066', '#666699', '#999933'];
export default {

	data() {
		return {
			active1: 'month',
			datay: [5, 20, 36, 10, 10, 20],
			datax: ["衬衫", "羊毛衫", "雪纺衫", "裤子", "高跟鞋", "袜子"],
			hangyes: [
				{ id: "402894815e0370af015e037261840003", title: "化工原料" }
				, { id: "402894815e0370af015e037482920004", title: "油漆涂料" }
				, { id: "402894815e0370af015e037abc520006", title: "洗护用品" }
				, { id: "402894815e039964015e0eea84580008", title: "工业油脂" }
				, { id: "402894815e039964015e0eebb7e80009", title: "药品制剂" }
			],
			hangye1: '402894815e0370af015e037261840003',
			year2: '2017',
			year3: '2017',
			region3: '1',
			years: [
				{ id: '2017', title: '2017年' }
				, { id: '2016', title: '2016年' }
				, { id: '2015', title: '2015年' }
				, { id: '2014', title: '2014年' }
				, { id: '2013', title: '2013年' }
			],
			pieData2: [
				{ value: '2017', name: '广东' }
				, { value: '216', name: '福建' }
				, { value: '1015', name: '湖南' }
				, { value: '514', name: '广东1' }
				, { value: '913', name: '福建1' }
			],
			pieData3: [
				{ value: '2017', name: '农、林、牧、渔业' }
				, { value: '216', name: '电力、热力、燃气及水生产和供应业' }
				, { value: '1015', name: '信息传输、软件和信息技术服务业' }
				, { value: '514', name: '水利、环境和公共设施管理业' }
				, { value: '913', name: '福建1' }
			],

			regions: [{ id: '1', title: '湖南怀化市' }]
		}
	},
	methods: {
		drawchart1() {
			var myChart = echarts.init(document.getElementById('qushi'));
			myChart.setOption({
				color:chartcolors,
				grid: {
					top: 40,
					bottom: 20
				},
				tooltip: {},
				xAxis: {
					data: this.datax
				},
				yAxis: {},
				series: [{
					name: '销量',
					type: 'line',
					data: this.datay
				}]
			});
		},
		drawchart2() {
			var myChart = echarts.init(document.getElementById('diyu'));
			myChart.setOption({
				color:chartcolors,
				grid: {
					top: 40,
					bottom: 20
				},
				legend: {
					orient: 'vertical',
					right: 10,
					top: 20,
					bottom: 20,
					data: this.pieData2.map(item => {
						return item.name
					})
				},
				tooltip: {},

				series: [{
					name: '销量',
					type: 'pie',
					data: this.pieData2,
					radius: '75%',
					center: ['30%', '50%'],
					label: {
						normal: {
							show: false
						}
					},
					labelLine: {
						normal: {
							show: false
						}

					}
				}]
			});
		},
		drawchart3() {
			var myChart = echarts.init(document.getElementById('hangye'));
			myChart.setOption({
				color:chartcolors,
				grid: {
					top: 40,
					bottom: 20
				},
				tooltip: {},
				xAxis: {
					show: false,
					data: this.datax
				},
				legend: {
					orient: 'vertical',
					bottom: 0,
					data: this.pieData3.map(item => {
						return item.name
					})
				},
				yAxis: { show: false },
				series: [{
					name: '',
					type: 'pie',
					radius: [20, 75],
					center: ['45%', '30%'],
					roseType: 'radius',
					data: this.pieData3,
					label: {
						normal: {
							show: false
						}
					},
				}]
			});
		},
		drawchart4() {
			var myChart = echarts.init(document.getElementById('wuzhu'));
			myChart.setOption({
				grid: {
					left: '3%',
					right: '4%',
					bottom: '3%',
					top: '0',
					containLabel: true
				},
				tooltip: {},
				xAxis: {
					show: false,
					type: 'value',
					boundaryGap: [0, 0],
					position: 'top'
				},
				yAxis: {
					type: 'category',
					data: ['正常商标', '无主商标'],
					axisLine: { show: false },     //坐标轴
					axisTick: [{    //坐标轴小标记
						show: false
					}],
				},
				series: [{
					name: '',
					type: 'bar',
					data: [85215, 678],
					tooltip: { show: false },
					barMinHeight: 30,  //最小柱高
					barWidth: 30,  //柱宽度
					itemStyle: {
						normal: {    //柱状图颜色
							label: {
								show: true,   //显示文本
								position: 'insideRight',  //数据值位置
								textStyle: {
									color: '#000'
								}
							}
						}
					}
				}]
			});
		},
		changeTime1(type) {
			this.active1 = type;
			this.drawchart1();
		}
	},
	mounted: function() {
		document.body.scrollTop = 0;
		this.drawchart1();
		this.drawchart2();
		this.drawchart3();
		this.drawchart4();
	}
}
</script>
<style lang="less" scoped>
select{
	border: #19B5FE 1px solid;
    padding: 1px;
	border-radius: 3px;
	color:#19B5FE;

}
.container {
	padding-bottom: 5rem;
}

.tabactive {
	background: #19B5FE;
	color: white;
}

.chartc {
	width: 100%;
	height: 15rem;
	padding: .5rem;
	margin-bottom: .5rem;
	box-sizing: border-box;
	.tool2 {
		height: 3rem;
		width: 100%;
		line-height: 2rem;
		.charttitle {
			text-align: left;
			font-size: .95rem;
			font-weight: bold;
			height: 2rem;
		}
		.charttitle {
			float: left;
		}
		.charttime {
			float: right;
		}
	}
	.tool {
		height: 3.5rem;
		width: 100%;
		line-height: 2rem;
		.charttitle {
			text-align: left;
			font-size: .95rem;
			font-weight: bold;
			height: 2rem;
		}
		.charttool {
			position: absolute;
			right: 1rem;
			width: 5rem;
			height: 1.4rem;
			background: white;
			color: #333333;
			top: 2.5rem;
			border-radius: 3px;
			font-size: .8rem;
			line-height: 1.5rem;
			border: 1px solid #19B5FE;
			text-align: center;
			div {
				float: left;
				width: 50%;
				height: 100%;
			}
		}
	}
	.chart {
		height: 11rem;
	}
}

#wuzhu {
	height: 6rem;
}

.chartc::after {
	content: " ";
	position: absolute;
	right: 15px;
	height: 1px;
	border-bottom: 1px solid #D9D9D9;
	color: #D9D9D9;
	-webkit-transform-origin: 0 0;
	transform-origin: 0 0;
	-webkit-transform: scaleY(0.5);
	transform: scaleY(0.5);
	left: 15px;
	margin-top: 1rem;
}
</style>
